{"version":3,"file":"index.js","sources":["../../electron/main/index.ts"],"sourcesContent":["// electron/main/index.ts\r\nimport { app, BrowserWindow } from \"electron\";\r\nimport path from \"path\";\r\n\r\nconst createWindow = () => {\r\n  const win = new BrowserWindow({\r\n    webPreferences: {\r\n      contextIsolation: false, // 是否开启隔离上下文\r\n      nodeIntegration: true, // 渲染进程使用Node API\r\n      preload: path.join(__dirname, \"../electron/preload/index.js\"), // 需要引用js文件\r\n    },\r\n  });\r\n\r\n  // 如果打包了，渲染index.html\r\n  if (app.isPackaged) {\r\n    win.loadFile(path.join(__dirname, \"../index.html\"));\r\n  } else {\r\n    const url = \"http://localhost:3000\"; // 本地启动的vue项目路径\r\n    win.loadURL(url);\r\n  }\r\n};\r\n\r\napp.whenReady().then(() => {\r\n  createWindow(); // 创建窗口\r\n  app.on(\"activate\", () => {\r\n    if (BrowserWindow.getAllWindows().length === 0) createWindow();\r\n  });\r\n});\r\n\r\n// 关闭窗口\r\napp.on(\"window-all-closed\", () => {\r\n  if (process.platform !== \"darwin\") {\r\n    app.quit();\r\n  }\r\n});\r\n"],"names":["BrowserWindow","path","app"],"mappings":";;;;;;;AAIA,MAAM,eAAe,MAAM;AACnB,QAAA,MAAM,IAAIA,uBAAc;AAAA,IAC5B,gBAAgB;AAAA,MACd,kBAAkB;AAAA,MAClB,iBAAiB;AAAA,MACjB,SAASC,cAAA,WAAK,KAAK,WAAW,8BAA8B;AAAA,IAC9D;AAAA,EAAA,CACD;AAGD,MAAIC,SAAAA,IAAI,YAAY;AAClB,QAAI,SAASD,cAAA,WAAK,KAAK,WAAW,eAAe,CAAC;AAAA,EAAA,OAC7C;AACL,UAAM,MAAM;AACZ,QAAI,QAAQ,GAAG;AAAA,EACjB;AACF;AAEAC,SAAAA,IAAI,UAAA,EAAY,KAAK,MAAM;AACZ;AACTA,eAAA,GAAG,YAAY,MAAM;AACnB,QAAAF,uBAAc,gBAAgB,WAAW;AAAgB;EAAA,CAC9D;AACH,CAAC;AAGDE,SAAAA,IAAI,GAAG,qBAAqB,MAAM;AAC5B,MAAA,QAAQ,aAAa,UAAU;AACjCA,aAAA,IAAI,KAAK;AAAA,EACX;AACF,CAAC;"}